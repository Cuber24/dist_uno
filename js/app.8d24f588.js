(function(t){function s(s){for(var n,a,r=s[0],c=s[1],l=s[2],p=0,h=[];p<r.length;p++)a=r[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(s);while(h.length)h.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],n=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(n=!1)}n&&(o.splice(s--,1),t=a(a.s=e[0]))}return t}var n={},i={app:0},o=[];function a(s){if(n[s])return n[s].exports;var e=n[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=n,a.d=function(t,s,e){a.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,s){if(1&s&&(t=a(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var n in t)a.d(e,n,function(s){return t[s]}.bind(null,n));return e},a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,"a",s),s},a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},a.p="/uno/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"034f":function(t,s,e){"use strict";var n=e("64a9"),i=e.n(n);i.a},"14c3":function(t,s,e){t.exports=e.p+"img/timg.b3550e0a.gif"},"1aeb":function(t,s,e){t.exports=e.p+"img/timg.6b23d96f.jpg"},"2ca3":function(t,s,e){"use strict";var n=e("736e"),i=e.n(n);i.a},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var n=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"nav"}}),e("router-view")],1)},o=[],a=(e("034f"),e("2877")),r={},c=Object(a["a"])(r,i,o,!1,null,null,null),l=c.exports,u=e("8c4f"),p=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"uno"},[n("img",{staticClass:"img",attrs:{src:e("1aeb")}}),n("div",{staticClass:"all"}),n("div",{staticClass:"up_all"},[n("div",{staticClass:"round_panel"},t._l(t.round_lst,(function(s){return n("div",{key:s,staticClass:"roundlst"},[t._v(t._s(s))])})),0),n("transition-group",{attrs:{name:"player_name",tag:"div"}},t._l(t.name_lst,(function(s){return n("div",{key:s,staticClass:"pl"},[n("div",[t._v(t._s(s))]),n("div",{staticClass:"score_full"},[t._v(t._s(t.player_info[s].score))]),t._l(t.player_info[s].scores,(function(s){return n("div",{key:s},[t._v(t._s(s))])}))],2)})),0)],1),n("transition",{attrs:{name:"boom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_boom,expression:"show_boom"}],staticClass:"boom_dialog"},[n("h2",[t._v("本轮结束！")]),n("p",[t._v(t._s(t.boom_score)+"分!!!"+t._s(t.boom_name)+"超过了爆炸上限"+t._s(t.explo)+"！")]),n("img",{staticClass:"gif",attrs:{src:e("14c3")}})])])],1)},h=[],_=(e("7f7f"),{data:function(){return{name_lst:[],explo:100,player_info:{},b:0,boom_score:0,boom_name:"",show_boom:!1,round_lst:[],round:0}},sockets:{namelst:function(t){this.$set(this.player_info,t.name,{score:t.fullscore,scores:[]}),this.name_lst.push(t.name)},del:function(t){this.name_lst.splice(t,1)},set_ex:function(t){this.explo=t},upd_res:function(t){this.player_info[t.name].scores.push(t.score),this.player_info[t.name].score+=t.score,this.player_info[t.name].scores.length==this.round+1&&(this.round+=1,this.round_lst.push(this.round)),this.player_info[t.name].score<=-1*this.explo&&(this.boom_score=this.player_info[t.name].score,this.boom_name=t.name,this.show_boom=!0,this.$socket.emit("boom_ser","boom"))},next:function(){this.show_boom=!1,this.player_info={};for(var t=0;t<this.name_lst.length;t++)this.$set(this.player_info,this.name_lst[t],{score:0,scores:[]});this.round_lst=[],this.round=0},clear:function(){this.player_info={};for(var t=0;t<this.name_lst.length;t++)this.$set(this.player_info,this.name_lst[t],{score:0,scores:[]});this.round_lst=[]},refresh:function(){location.reload()}},computed:{},created:function(){var t=this;setInterval((function(){t.$socket.emit("round_ser",t.round_lst.length)}),500)}}),d=_,f=(e("2ca3"),Object(a["a"])(d,p,h,!1,null,"0fb01710",null)),m=f.exports,v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"back",on:{click:function(s){s.stopPropagation(),t.show_set=!1}}},[e("div",{staticClass:"player"},[e("div",{staticClass:"count"},[e("i",{staticClass:"el-icon-user"}),t._v(t._s(t.count)+"\n         "),e("i",{staticClass:"el-icon-trophy"}),t._v(t._s(t.round)+"\n         ")]),e("div",{staticClass:"show-player"},[e("transition-group",{attrs:{name:"playerlst",tag:"div"}},t._l(t.playerlst,(function(s,n){return e("div",{key:s,class:{pl:!0,show_pl:t.posi==n&&!t.change_mod}},[e("div",{staticClass:"pl_name",on:{click:function(s){s.stopPropagation(),t.posi=n,t.change_mod=!1}}},[t._v(t._s(s))]),e("div",{staticClass:"del",on:{click:function(s){return s.stopPropagation(),t.del(n)}}},[e("i",{staticClass:"el-icon-delete"})])])})),0)],1),e("div",{staticClass:"add",on:{click:function(s){return s.stopPropagation(),t.change_in_add(s)}}},[e("i",{staticClass:"el-icon-plus"})])]),e("transition",{attrs:{name:"change"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.change_mod,expression:"!change_mod"}],staticClass:"input"},[e("div",{staticClass:"name"},[t._v(t._s(t.score_name))]),e("div",{staticClass:"in_bu"},[e("el-input",{staticClass:"in",model:{value:t.score,callback:function(s){t.score=t._n(s)},expression:"score"}}),e("div",{staticClass:"p_m"},[e("div",{staticClass:"plus",on:{click:function(s){return s.stopPropagation(),t.input_plus(s)}}},[e("i",{staticClass:"el-icon-plus"})])]),e("div",{staticClass:"keybored"},t._l(t.buttons,(function(s,n){return e("div",{key:n,staticClass:"key",attrs:{value:s},on:{click:function(e){return e.stopPropagation(),t.input_num(s)}}},[t._v(t._s(s))])})),0)],1),e("div",{staticClass:"co_ne"},[e("div",{staticClass:"confirm",on:{click:t.confirm}},[t._v("确定")])])])]),e("div",{class:{setting:!0,op:t.isActive,cl:!t.isActive},on:{click:function(s){return s.stopPropagation(),t.set_ani(s)}}},[e("i",{staticClass:"el-icon-setting"})]),e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_set,expression:"show_set"}],staticClass:"dialog",on:{click:function(t){t.stopPropagation()}}})]),e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_set,expression:"show_set"}],staticClass:"in_setting",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"no1"},[e("p",[t._v("设置轮次结束上限")]),e("el-input-number",{staticClass:"change_num",attrs:{size:"mini",step:50},model:{value:t.expl,callback:function(s){t.expl=s},expression:"expl"}})],1),e("div",{staticClass:"no2"},[e("p",[t._v("清空当前所有回合的成绩")]),e("div",{on:{click:function(s){return s.stopPropagation(),t.clear_all(s)}}},[t._v("清空")])]),e("div",{staticClass:"no1"},[e("p",[t._v('点击"+"增加的分数')]),e("el-input-number",{staticClass:"change_num2",attrs:{size:"mini",step:20},model:{value:t.plus,callback:function(s){t.plus=s},expression:"plus"}})],1),e("div",{staticClass:"no3"},[e("p",[t._v("刷新展示页面(会清空所有数据)")]),e("div",{on:{click:function(s){return s.stopPropagation(),t.refresh(s)}}},[t._v("刷新")])])])]),e("transition",{attrs:{name:"change"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.change_mod,expression:"change_mod"}],staticClass:"input_name"},[e("el-input",{staticStyle:{width:"40vw",margin:"10vh 5vw 5vw 5vw"},attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(s){t.name="string"===typeof s?s.trim():s},expression:"name"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:t.add_player},slot:"append"})],1),e("div",{staticClass:"finish",on:{click:function(s){return s.stopPropagation(),t.change_in_finish(s)}}},[e("i",{staticClass:"el-icon-check"})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_next_round,expression:"show_next_round"}],staticClass:"nextRound",on:{click:function(s){return s.stopPropagation(),t.excu_boom(s)}}},[t._v("NEXT")])],1)},g=[],b=(e("c5f6"),{data:function(){return{round:1,score:"-",buttons:["1","2","3","4","5","6","7","8","9","←","0"],show_set:!1,expl:100,plus:20,name:"",change_mod:!1,isActive:!1,playerlst:[],playerlst_obj:{},posi:0,show_next_round:!1}},sockets:{boom:function(){this.show_next_round=!0,console.log(this.show_next_round)},roundinfo:function(t){this.round=t+1}},methods:{set_ani:function(){this.show_set=!this.show_set,this.isActive=!this.isActive},input_plus:function(){this.score=this.plus_bu},input_num:function(t){"←"==t?"-"==this.score||(this.score=this.score.substring(0,this.score.length-1)):this.score+=t},confirm:function(){var t=this.playerlst[this.posi];this.playerlst_obj[t]=Number(this.score),this.$socket.emit("res_ser",{name:t,score:Number(this.score)}),this.posi==this.playerlst.length-1?this.posi=0:this.posi+=1,this.score="-"},change_in_add:function(){0==this.change_mod&&(this.change_mod=!0)},change_in_finish:function(){1==this.change_mod&&(this.change_mod=!1)},add_player:function(){if(""!=this.name){var t=this.name;this.playerlst.splice(this.playerlst.length,0,this.name),localStorage.setItem("player_list",JSON.stringify(this.playerlst)),this.$socket.emit("up_name",{name:t,fullscore:0}),this.$set(this.playerlst_obj,t,0)}this.name=""},del:function(t){delete this.playerlst_obj[this.playerlst[t]],this.playerlst.splice(t,1),localStorage.setItem("player_list",JSON.stringify(this.playerlst)),this.$socket.emit("del_ser",t)},excu_boom:function(){this.show_next_round=!1,this.$socket.emit("next_ser","next"),this.posi=0},clear_all:function(){this.$socket.emit("clear_ser","clear")},refresh:function(){this.$socket.emit("refresh_ser","refresh")}},computed:{count:function(){return this.playerlst.length},score_name:function(){return this.playerlst[this.posi]},plus_bu:function(){return"+"+this.plus}},created:function(){var t=this;setInterval((function(){t.$socket.emit("ex_to_ser",t.expl)}),1e3),this.playerlst=JSON.parse(localStorage.getItem("player_list")||"[]")}}),y=b,w=(e("e831"),Object(a["a"])(y,v,g,!1,null,"9c72e39c",null)),C=w.exports;n["default"].use(u["a"]);var x=new u["a"]({mode:"hash",base:"/uno/",routes:[{path:"/",name:"home",component:m,meta:{title:"uno展示页面"}},{path:"/in",name:"input",component:C,meta:{title:"uno输入页面"}}]});x.beforeEach((function(t,s,e){t.meta.title&&(document.title=t.meta.title),e()}));var k=x,P=e("2f62");n["default"].use(P["a"]);var j=new P["a"].Store({state:{},mutations:{},actions:{}}),O=e("5c96"),$=e.n(O),S=(e("0fae"),e("5132")),N=e.n(S);n["default"].use($.a),n["default"].use(new N.a({debug:!0,connection:"http://47.96.131.165"})),n["default"].config.productionTip=!1,new n["default"]({router:k,store:j,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,s,e){},"736e":function(t,s,e){},b22b:function(t,s,e){},e831:function(t,s,e){"use strict";var n=e("b22b"),i=e.n(n);i.a}});